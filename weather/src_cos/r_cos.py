#!/usr/bin/env python

import sys
import numpy as np

# napa lines:
napa_1990 = "69.83240223463687,82.94534412955466,47.28330995792427,60.98370786516854,38.11292875989446,35.0,0.15620052770448548,5.633333333333333,0.17598944591029023,0.0,83.60482654600301,52.343596059113295,53.77878787878788,51.94347411876786,33.384308131241085,36.80357142857143,0.4716119828815977,18.761363636363637,0.37717546362339516,0.4722222222222222,91.42895805142084,52.73268398268398,57.68113975576662,48.59867886178861,37.44952380952381,30.0,0.1385034013605442,8.775,0.14231292517006802,0.0,119.99859943977592,72.1948051948052,60.292717086834735,59.584462511291775,43.83530382183118,36.21153846153846,0.14132526807808635,14.5,0.14654935386307397,0.0,130.6786090621707,64.84188034188034,85.5295358649789,37.18181818181819,48.90835237369891,37.0,0.08809342472708809,6.75,0.1431835491241432,0.0,160.5747696669029,65.03472222222223,110.9070262597587,28.318181818181813,51.872512725590006,36.148305084745765,0.0018509949097639982,0.0,0.0016196205460434984,0.10344827586206895,173.18805159538357,75.38043478260869,120.8388851121686,22.435567010309285,52.95823331733077,36.0,0.0,\N,0.0,0.0,183.5259831460674,79.42553191489361,130.9431179775281,20.0,47.699729928799414,35.0,7.365578197888534E-4,0.0,7.365578197888534E-4,0.0,172.05391804457224,72.84883720930233,118.13021582733813,24.85119047619048,40.319616258520576,31.0,0.005049229992426155,3.2,0.007321383489017925,0.0,149.72398843930637,82.9595494111623,75.21361332367849,53.53276353276354,32.4208312716477,36.0,0.06432459178624443,4.0,0.09599208312716477,0.732843137254902,112.6313202247191,53.20166453265044,83.22714486638537,38.64064945226917,28.674671385237612,41.0,0.32027300303336703,9.5,0.44590495449949447,3.5700000000000003,69.83241758241758,75.52302888368462,26.015807560137457,50.291666666666664,32.52883675464321,51.0,0.07624633431085044,6.0,0.12854349951124144,0.6346153846153846"
napa_2000 = "79.9614552339735,55.0,47.515147416824455,56.0,29.355186833940376,31.0,0.9776069067853771,0.0,1.0145690004046946,18.7525,95.9440901675812,55.0,58.704896142433235,45.61538461538461,29.082927549063008,26.0,1.3640253799616349,0.0,1.4755791648221928,28.87828947368421,112.25962833288446,62.45454545454547,67.63102612442769,50.0,31.590389016018307,31.0,0.5689864046305021,0.009915014164305958,0.60506124646655,10.783482142857142,122.1891891891892,62.16666666666666,70.99902479799387,44.0,36.89245965498052,37.69318181818182,0.28227601558152476,0.0,0.2897885364496383,4.0,153.55066792605587,78.0,94.80094466936572,37.95918367346938,39.75854183481302,36.0,0.2144202313693839,0.0,0.2237019101425881,3.75,176.36943475226798,83.85418743768696,106.4221694820606,28.0,44.17575083426029,36.0,0.027947719688542826,0.0,0.03156284760845384,0.625,180.88921912996489,78.0,123.74733144169707,22.0,44.575716785570066,29.785714285714285,-5.384304751648943E-4,0.0,0.0010768609503297886,0.5333333333333333,179.9430806582142,78.0,121.7461559212301,22.0,40.545785569790965,31.0,0.002832097100472016,0.0,0.011598111935266352,0.5443548387096775,175.1543287327478,89.0,104.84148891677123,36.5,32.6209195721628,31.0,0.016252257257952492,0.0,0.023753299069315184,0.6594827586206896,146.20305529268623,72.0,79.31445180478572,55.0,27.51418201371152,26.0,0.3024600080656002,0.0,0.3474929425998118,3.8063063063063063,109.1308696860239,72.0,63.53897457273864,67.0,23.608055555555556,36.0,0.5209722222222222,0.0,0.5781944444444445,3.843137254901961,82.61999730494543,59.269230769230774,50.1578167115903,66.0,29.468190988567585,31.0,1.4414256893073303,0.0,1.5447209145931406,15.821917808219178"
napa_2010 = "87.84438741050926,61.0,50.82754426273821,61.0,26.54914385870298,41.0,1.2997168666576784,0.0,1.405959282728866,40.0,100.38680926916221,66.0,54.76690391459075,67.0,27.808601832692876,38.695783132530124,1.195832101684895,0.0,1.2772686964232929,53.0,115.85346454569965,61.0,72.22327086423083,50.0,29.59779540260788,28.151162790697676,1.1606398709503967,0.0,1.2956042478827798,40.0,132.1622418879056,62.821428571428584,81.14636887203258,45.0,34.302083333333336,36.0,0.5434722222222222,0.0,0.6144444444444445,31.0,148.92140445644836,72.0,91.60270087778528,32.19262295081967,40.76418392040871,31.0,0.10674912610916913,0.0,0.12973917719817155,6.0,177.15271966527197,78.0,112.22705718270572,28.0,42.95934280144807,35.43627450980392,0.06516290726817042,0.0,0.09133945976051239,3.0,179.6164199192463,78.0,124.83363309352518,22.0,43.78838112305854,26.557692307692307,-0.002090800477897252,0.0,0.03479689366786141,0.0,177.0386864597391,72.0,126.69095816464238,20.32481751824818,40.86601941747573,31.0,-0.0017923823749066467,0.0,0.0017923823749066467,0.0,178.567738942159,84.0,113.73452970297029,33.0,32.14062982401976,31.0,0.04337758567459092,0.0,0.049089225069465885,4.0,156.81460843373495,77.0,90.4758963543236,55.0,24.76878267363704,36.0,0.3090365944734877,0.0,0.34428678117998507,20.75,114.94181200802593,73.45588235294117,62.49652724185831,67.0,23.067746913580248,32.515151515151516,0.6134259259259259,0.0,0.5864197530864198,25.875,85.99297878697341,72.0,39.97609799820735,78.35714285714286,25.7169106662683,36.0,1.0757394681804602,0.0,1.1891245891843443,39.25"


# helpers
def str_to_np(in_str):
    a = in_str.strip().split(",")
    py_list = []
    for i in a:
        py_list.append(float(i))
    return np.array(py_list)


def cos_sim(v1, v2):
    return v1.dot(v2) / np.linalg.norm(v1) / np.linalg.norm(v2)


v_napa_1990 = str_to_np(napa_1990)
v_napa_2000 = str_to_np(napa_2000)
v_napa_2010 = str_to_np(napa_2010)

for l in sys.stdin:
    k, v = l.strip().split("\t")

    if 'None' not in v and '\\N' not in v:
        np_v = str_to_np(v)

        d1990 = cos_sim(v_napa_1990, np_v)
        d2000 = cos_sim(v_napa_2000, np_v)
        d2010 = cos_sim(v_napa_2010, np_v)

        print("%s,1990,%s" % (k, d1990))
        print("%s,2000,%s" % (k, d2000))
        print("%s,2010,%s" % (k, d2010))





