#!/usr/bin/env python

import sys
import numpy as np

# napa lines:
napa_1990 = "69.83240223463687,47.28330995792427,38.11292875989446,0.15620052770448548,0.17598944591029023,83.60482654600301,53.77878787878788,33.384308131241085,0.4716119828815977,0.37717546362339516,91.42895805142084,57.68113975576662,37.44952380952381,0.1385034013605442,0.14231292517006802,119.99859943977592,60.292717086834735,43.83530382183118,0.14132526807808635,0.14654935386307397,130.6786090621707,85.5295358649789,48.90835237369891,0.08809342472708809,0.1431835491241432,160.5747696669029,110.9070262597587,51.872512725590006,0.0018509949097639982,0.0016196205460434984,173.18805159538357,120.8388851121686,52.95823331733077,0.0,0.0,183.5259831460674,130.9431179775281,47.699729928799414,7.365578197888534E-4,7.365578197888534E-4,172.05391804457224,118.13021582733813,40.319616258520576,0.005049229992426155,0.007321383489017925,149.72398843930637,75.21361332367849,32.4208312716477,0.06432459178624443,0.09599208312716477,112.6313202247191,83.22714486638537,28.674671385237612,0.32027300303336703,0.44590495449949447,69.83241758241758,26.015807560137457,32.52883675464321,0.07624633431085044,0.12854349951124144"
napa_2000 = "79.9614552339735,47.515147416824455,29.355186833940376,0.9776069067853771,1.0145690004046946,95.9440901675812,58.704896142433235,29.082927549063008,1.3640253799616349,1.4755791648221928,112.25962833288446,67.63102612442769,31.590389016018307,0.5689864046305021,0.60506124646655,122.1891891891892,70.99902479799387,36.89245965498052,0.28227601558152476,0.2897885364496383,153.55066792605587,94.80094466936572,39.75854183481302,0.2144202313693839,0.2237019101425881,176.36943475226798,106.4221694820606,44.17575083426029,0.027947719688542826,0.03156284760845384,180.88921912996489,123.74733144169707,44.575716785570066,-5.384304751648943E-4,0.0010768609503297886,179.9430806582142,121.7461559212301,40.545785569790965,0.002832097100472016,0.011598111935266352,175.1543287327478,104.84148891677123,32.6209195721628,0.016252257257952492,0.023753299069315184,146.20305529268623,79.31445180478572,27.51418201371152,0.3024600080656002,0.3474929425998118,109.1308696860239,63.53897457273864,23.608055555555556,0.5209722222222222,0.5781944444444445,82.61999730494543,50.1578167115903,29.468190988567585,1.4414256893073303,1.5447209145931406"
napa_2010 = "87.84438741050926,50.82754426273821,26.54914385870298,1.2997168666576784,1.405959282728866,100.38680926916221,54.76690391459075,27.808601832692876,1.195832101684895,1.2772686964232929,115.85346454569965,72.22327086423083,29.59779540260788,1.1606398709503967,1.2956042478827798,132.1622418879056,81.14636887203258,34.302083333333336,0.5434722222222222,0.6144444444444445,148.92140445644836,91.60270087778528,40.76418392040871,0.10674912610916913,0.12973917719817155,177.15271966527197,112.22705718270572,42.95934280144807,0.06516290726817042,0.09133945976051239,179.6164199192463,124.83363309352518,43.78838112305854,-0.002090800477897252,0.03479689366786141,177.0386864597391,126.69095816464238,40.86601941747573,-0.0017923823749066467,0.0017923823749066467,178.567738942159,113.73452970297029,32.14062982401976,0.04337758567459092,0.049089225069465885,156.81460843373495,90.4758963543236,24.76878267363704,0.3090365944734877,0.34428678117998507,114.94181200802593,62.49652724185831,23.067746913580248,0.6134259259259259,0.5864197530864198,85.99297878697341,39.97609799820735,25.7169106662683,1.0757394681804602,1.1891245891843443"


# helpers
def str_to_np(in_str):
    a = in_str.strip().split(",")
    py_list = []
    for i in a:
        py_list.append(float(i))
    return np.array(py_list)


def cos_sim(v1, v2):
    return v1.dot(v2) / np.linalg.norm(v1) / np.linalg.norm(v2)


v_napa_1990 = str_to_np(napa_1990)
v_napa_2000 = str_to_np(napa_2000)
v_napa_2010 = str_to_np(napa_2010)

for l in sys.stdin:
    k, v = l.strip().split("\t")

    if 'None' not in v and '\\N' not in v:
        np_v = str_to_np(v)

        d1990 = cos_sim(v_napa_1990, np_v)
        d2000 = cos_sim(v_napa_2000, np_v)
        d2010 = cos_sim(v_napa_2010, np_v)

        print("%s,1990,%s" % (k, d1990))
        print("%s,2000,%s" % (k, d2000))
        print("%s,2010,%s" % (k, d2010))





